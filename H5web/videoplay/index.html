<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
<title>视频播放</title>
<link rel="stylesheet" type="text/css" href="css/style.css">
<style type="text/css">
html,body{
	height: 100%;
	overflow: hidden;
}
body{
	background: #000;
}
video{
	max-width: 100%;
	width: 100%;
	position: absolute;
	z-index: 1;
	display: block;
	left: 0rem;
	top: 50%;
	-webkit-transform: translate(0%,-50%);
	transform: translate(0%,-50%);
}
img{
	display: block;
	max-width: 100%;
}
.notice{
	position: absolute;
	left: 0rem;
	top: 0rem;
	z-index: 10;
	width: 100%;
	height: 100%;
	background: rgba(0,0,0,1);
}
.notice-content{
	position: absolute;
	left: 50%;
	top: 50%;
	width: 6.3rem;
	height: auto;
	-webkit-transform: translate(-50%,-70%);
	transform: translate(-50%,-70%);
}
.notice-btn{
	position: absolute;
	left: 50%;
	width: 4.5rem;
	height: auto;
	bottom: 2rem;
	-webkit-transform: translate(-50%,0%);
	transform: translate(-50%,0%);
}
.layer{
	position: fixed;
	z-index: 1000;
	background: rgba(0,0,0,1);
	left: 0rem;
	top: 0rem;
	width: 100%;
	height: 100%;
	display: none;
}
.layer-msg{
	position: absolute;
	width: 3rem;
	height: auto;
	left: 50%;
	top: 50%;
	-webkit-transform: translate(-50%,-50%);
	transform: translate(-50%,-50%);
}
</style>
</head>
<body>
<div class="layer">
	<div class="layer-msg">
		<img src="images/btn2.png">
	</div>
</div>
<video src="2.mp4" x5-video-player-type='h5' x5-video-player-fullscreen='true' x5-video-orientation="portraint" poster="" preload="auto" x-webkit-airplay="allow"></video>
<div class="notice">
	<div class="notice-content">
		<img src="images/post.png">
	</div>
	<div class="notice-btn">
		<img src="images/btn.png">
	</div>
</div>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript">
jQuery(function($){

var video = $("video")[0],
	u = navigator.userAgent,
	isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),
	hasClicked = false,
	w = $(window).width(),
	h = $(window).height();

$('.notice').on("click",function(e){
	$(this).hide();
	hasClicked = true;
	video.play();
});

$(".layer-msg").on("click",function(e){
	$(".layer").hide();
	hasClicked = true;
	video.play();
});

if(w > h){
	$(".layer").show();
	$('.notice').hide();
}

window.addEventListener("orientationchange", function() {
	if(hasClicked){
		return false;
	}
	var ori = window.orientation;
	if(ori == 90 || ori == -90){
		$('.layer').show();
		$('.notice').hide();
	} else {
		$('.notice').show();
		$('.layer').hide();
	}
}, false);


});
</script>
</body>
</html>